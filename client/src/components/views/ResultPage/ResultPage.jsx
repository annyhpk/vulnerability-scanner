import React from "react";
import { Result, Button } from "antd";
import {} from "@ant-design/icons";
import { useSelector } from "react-redux";

function ResultPage() {
  const state = useSelector((state) => state.attack_info);

  const download = (content, fileName, contentType) => {
    let data = JSON.stringify(content, null, 4);
    let a = document.createElement("a");
    let file = new Blob([data], { type: contentType });
    a.href = URL.createObjectURL(file);
    a.download = fileName;
    a.click();
  };

  const reload = () => {
    location.reload();
  };

  return (
    <div>
      <Result
        status="success"
        title="Successfully Happy Hacking!"
        subTitle="Download your attack data"
        extra={[
          <Button
            type="primary"
            onClick={() => download(state, "Report.txt", "text/plain")}
          >
            Download Data
          </Button>,
          <Button key="Again" onClick={reload}>
            Again
          </Button>,
        ]}
      />
    </div>
  );
}

export default ResultPage;
