import React, { useState } from "react";
import { Layout, Steps, Button, message } from "antd";
import HostScanPage from '../HostScanPage/HostScanPage';
import PortScanPage from '../PortScanPage/PortScanPage';
import ExploitPage from '../ExploitPage/ExploitPage';
import ResultPage from '../ResultPage/ResultPage';

const { Step } = Steps;
const { Content } = Layout;

const steps = [
  {
    title: "Host Scan",
    content: <HostScanPage />,
  },
  {
    title: "Target Setting",
    content: <PortScanPage />,
  },
  {
    title: "Try exploit",
    content: <ExploitPage />,
  },
  {
    title: "Result",
    content: <ResultPage />,
  },
];


const LandingPage = () => {
  const [CurrentStep, setCurrentStep] = useState(0);

  const next = () => {
    setCurrentStep(CurrentStep + 1);
  };

  const prev = () => {
    setCurrentStep(CurrentStep - 1);
  };

  return (
    <Content style={{ margin: "32px 48px 0", overflow: "initial" }}>
        <div>
          <Steps current={CurrentStep}>
            {steps.map((item) => (
              <Step key={item.title} title={item.title} />
            ))}
          </Steps>
          <div className="steps-content" >{steps[CurrentStep].content}</div>
          <div className="steps-action" style={{marginTop: "15px"}}>
            {CurrentStep < steps.length - 1 && (
              <Button type="primary" onClick={next}>
                Next
              </Button>
            )}
            {CurrentStep === steps.length - 1 && (
              <Button
                type="primary"
                onClick={message.success("Processing complete!")}
              >
                Done
              </Button>
            )}
            {CurrentStep > 0 && (
              <Button style={{ margin: "0 8px" }} onClick={prev}>
                Previous
              </Button>
            )}
          </div>
        </div>
    </Content>
  );
}

export default LandingPage;
